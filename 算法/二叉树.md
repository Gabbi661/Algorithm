
**1. å‰åºéå†ï¼ˆPreorderï¼Œæ ¹-å·¦-å³ï¼‰**

â€¢ **å…ˆè®¿é—®æ ¹èŠ‚ç‚¹**

â€¢ **å†éå†å·¦å­æ ‘**

â€¢ **æœ€åéå†å³å­æ ‘**

**2. ä¸­åºéå†ï¼ˆInorderï¼Œå·¦-æ ¹-å³ï¼‰**

â€¢ **å…ˆéå†å·¦å­æ ‘**

â€¢ **å†è®¿é—®æ ¹èŠ‚ç‚¹**

â€¢ **æœ€åéå†å³å­æ ‘**

**3. ååºéå†ï¼ˆPostorderï¼Œå·¦-å³-æ ¹ï¼‰**

â€¢ **å…ˆéå†å·¦å­æ ‘**

â€¢ **å†éå†å³å­æ ‘**

â€¢ **æœ€åè®¿é—®æ ¹èŠ‚ç‚¹**

> [!NOTE]
> å†™æ ‘ç›¸å…³çš„ç®—æ³•ï¼Œç®€å•è¯´å°±æ˜¯ï¼Œå…ˆææ¸…æ¥šå½“å‰ root èŠ‚ç‚¹ã€Œè¯¥åšä»€ä¹ˆã€ä»¥åŠã€Œä»€ä¹ˆæ—¶å€™åšã€ï¼Œç„¶åæ ¹æ®å‡½æ•°å®šä¹‰é€’å½’è°ƒâ½¤â¼¦èŠ‚ç‚¹ï¼Œé€’å½’è°ƒâ½¤ä¼šè®©å­©â¼¦èŠ‚ç‚¹åšç›¸åŒçš„äº‹æƒ…ã€‚
>æ‰€è°“ã€Œè¯¥åšä»€ä¹ˆã€å°±æ˜¯è®©ä½ æƒ³æ¸…æ¥šå†™ä»€ä¹ˆä»£ç èƒ½å¤Ÿå®ç°é¢˜â½¬æƒ³è¦çš„æ•ˆæœï¼Œæ‰€è°“ã€Œä»€ä¹ˆæ—¶å€™åšã€ï¼Œå°±æ˜¯è®©ä½ æ€è€ƒè¿™æ®µä»£ç åˆ°åº•åº”è¯¥å†™åœ¨å‰åºã€ä¸­åºè¿˜æ˜¯ååºéå†çš„ä»£ç ä½ç½®ä¸Šã€‚
> 

### [116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/)

ç»™å®šä¸€ä¸ªÂ **å®Œç¾äºŒå‰æ ‘**Â ï¼Œå…¶æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹éƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚äºŒå‰æ ‘å®šä¹‰å¦‚ä¸‹ï¼š

struct Node {
  int val;
  Node *left;
  Node *right;
  Node *next;
}

å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸ºÂ `NULL`ã€‚

åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰Â next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸ºÂ `NULL`ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2019/02/14/116_sample.png)

**è¾“å…¥ï¼š**root = [1,2,3,4,5,6,7]
**è¾“å‡ºï¼š**[1,#,2,3,#,4,5,6,7,#]
**è§£é‡Šï¼š**ç»™å®šäºŒå‰æ ‘å¦‚å›¾ A æ‰€ç¤ºï¼Œä½ çš„å‡½æ•°åº”è¯¥å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œä»¥æŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œå¦‚å›¾ B æ‰€ç¤ºã€‚åºåˆ—åŒ–çš„è¾“å‡ºæŒ‰å±‚åºéå†æ’åˆ—ï¼ŒåŒä¸€å±‚èŠ‚ç‚¹ç”± next æŒ‡é’ˆè¿æ¥ï¼Œ'#' æ ‡å¿—ç€æ¯ä¸€å±‚çš„ç»“æŸã€‚

**ç¤ºä¾‹ 2:**

**è¾“å…¥ï¼š**root = []
**è¾“å‡ºï¼š**[]

----
è¿™é“é¢˜ä¸€å¼€å§‹åªæƒ³ç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå·¦èŠ‚ç‚¹æŒ‡å‘å³èŠ‚ç‚¹ï¼Œä½†æ˜¯æœ€åç»“æœæ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºä¸­é—´çš„ä¸¤ä¸ªèŠ‚ç‚¹æ— æ³•ç›¸è¿ã€‚
ä½†æ˜¯å¦‚æœåªä¾èµ–â¼€ä¸ªèŠ‚ç‚¹çš„è¯ï¼Œè‚¯å®šæ˜¯æ²¡åŠæ³•è¿æ¥ã€Œè·¨â½—èŠ‚ç‚¹ã€çš„ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹çš„ã€‚
é‚£ä¹ˆï¼Œæ­£ç¡®çš„åšæ³•å°±æ˜¯å¢åŠ å‡½æ•°å‚æ•°ï¼Œâ¼€ä¸ªèŠ‚ç‚¹åšä¸åˆ°ï¼Œå°±ç»™å®ƒå®‰æ’ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œã€Œå°†æ¯â¼€å±‚â¼†å‰æ ‘èŠ‚ç‚¹è¿æ¥èµ·æ¥ã€å¯ä»¥ç»†åŒ–æˆã€Œå°†æ¯ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹éƒ½è¿æ¥èµ·æ¥ã€

```java
public Node connect(Node root) {  
    if(root==null){  
        return null;  
    }  
    connectTwo(root.left,root.right);  
    return root;  
  
}  
void connectTwo(Node root1, Node root2) {  
    if(root1==null||root2==null){  
        return;  
    }  
    root1.next=root2;  
    connectTwo(root1.left,root1.right);  
    connectTwo(root2.left,root2.right);  
    connectTwo(root1.right,root2.left);  
  
}

```



### 543.äºŒå‰æ ‘çš„ç›´å¾„
è¿™é“é¢˜çš„å…³é”®å°±æ˜¯æ±‚äºŒå‰æ ‘å·¦å³å­æ ‘çš„æœ€å¤§æ·±åº¦ä¹‹å’Œ

```java
class Solution {

private int maxDiameter = 0; // è®°å½•å…¨å±€æœ€å¤§ç›´å¾„

  

public int diameterOfBinaryTree(TreeNode root) {

maxDepth(root); // è®¡ç®—æ·±åº¦çš„åŒæ—¶æ›´æ–°ç›´å¾„

return maxDiameter;

}

  

private int maxDepth(TreeNode root) {

if (root == null) {

return 0;

}

int left = maxDepth(root.left);

int right = maxDepth(root.right);

// æ›´æ–°å…¨å±€ç›´å¾„ï¼ˆleft + right æ˜¯å½“å‰èŠ‚ç‚¹çš„ç›´å¾„ï¼‰

maxDiameter = Math.max(maxDiameter, left + right);

return Math.max(left, right) + 1; // è®¡ç®—å½“å‰å­æ ‘çš„æœ€å¤§æ·±åº¦

}

}
```


> [!NOTE] æ€è·¯
> å…ˆåœ¨æ–¹æ³•å¤–è®¾ç½®ä¸€ä¸ªæœ€å¤§ç›´å¾„å˜é‡
> æœ€é‡è¦çš„æ˜¯æ±‚æœ€å¤§æ·±åº¦çš„æ–¹æ³• é™¤äº†æ±‚æ·±åº¦å¤–,è¿˜ä¸è¦å¿˜äº†æ›´æ–°ç›´å¾„
> æ·±åº¦æœ€åè¿”å›å€¼æ—¶æ˜¯è¦åŠ 1çš„


### 108.å°†æœ‰åºæ•°ç»„è½¬ä¸ºäºŒå‰æœç´¢æ ‘

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `nums`Â ï¼Œå…¶ä¸­å…ƒç´ å·²ç»æŒ‰Â **å‡åº**Â æ’åˆ—ï¼Œè¯·ä½ å°†å…¶è½¬æ¢ä¸ºä¸€æ£µÂ å¹³è¡¡Â äºŒå‰æœç´¢æ ‘ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/02/18/btree1.jpg)

**è¾“å…¥ï¼š**nums = [-10,-3,0,5,9]
**è¾“å‡ºï¼š**[0,-3,9,-10,null,5]
**è§£é‡Šï¼š**[0,-10,5,null,-3,null,9] ä¹Ÿå°†è¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆï¼š
![](https://assets.leetcode.com/uploads/2021/02/18/btree2.jpg)

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/02/18/btree.jpg)

**è¾“å…¥ï¼š**nums = [1,3]
**è¾“å‡ºï¼š**[3,1]
**è§£é‡Šï¼š**[1,null,3] å’Œ [3,1] éƒ½æ˜¯é«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ã€‚

æˆ‘è¿™é“é¢˜ä¸€å¼€å§‹çš„æ€è·¯æ˜¯é”™çš„,æˆ‘æƒ³çš„æ˜¯åœ¨ä¸€ä¸ªforå¾ªç¯é‡Œ,é€ä¸ªå¯¹æ•°ç»„ä¸­çš„é¡¹è¿›è¡ŒäºŒå‰æ ‘æ’åº
ä½†æ˜¯è¿™æ ·åšçš„è¯,ä¸èƒ½ä¿è¯æ„å»ºå‡ºçš„äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ˜¯å¹³è¡¡çš„ã€‚
**ğŸ“Œ æ­£ç¡®çš„æ€è·¯**
ç”±äºæ•°ç»„æ˜¯ **å‡åºæ’åº** çš„ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ **äºŒåˆ†æ³•**ï¼ˆé€’å½’æ–¹å¼ï¼‰æ¥æ„é€ ä¸€ä¸ª**å¹³è¡¡äºŒå‰æœç´¢æ ‘**ï¼ˆBSTï¼‰ï¼š
1. **å–æ•°ç»„çš„ä¸­é—´å…ƒç´ ä½œä¸ºæ ¹èŠ‚ç‚¹**ï¼Œè¿™æ ·å·¦å³å­æ ‘çš„é«˜åº¦å°½é‡ç›¸ç­‰ï¼Œä¿è¯å¹³è¡¡æ€§ã€‚
2. **é€’å½’å¤„ç†å·¦åŠéƒ¨åˆ†ä½œä¸ºå·¦å­æ ‘**ï¼Œå³åŠéƒ¨åˆ†ä½œä¸ºå³å­æ ‘ã€‚
3. é€’å½’ç»ˆæ­¢æ¡ä»¶æ˜¯**æ•°ç»„ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªå…ƒç´ **ã€‚
è¿™é“é¢˜ä¾æ—§é‡‡ç”¨äºŒå‰æ ‘è¿™å—éå¸¸å…¸å‹çš„ä¸€ç§è§£æ³•,è¿­ä»£
ä¸»å‡½æ•°æ˜¯ä»æ•°ç»„ä¸¤è¾¹è¿›è¡Œè¿­ä»£
è°ƒç”¨çš„å‡½æ•°æ˜¯ä»ä¸­é—´åˆ†å¼€ ä»ä¸¤è¾¹è¿›è¡Œè¿­ä»£

å› ä¸ºæ•°ç»„å·²ç»æ’å¥½åºäº† æ‰€ä»¥ä¸ç”¨è¿‡åˆ†çº ç»“æ¯”ä»–å¤§çš„æ•°æ”¾åœ¨å…·ä½“å“ªä¸ªä½ç½®,ä½¿ç”¨è¿­ä»£å¤„ç†å³å¯

```java
public TreeNode sortedArrayToBST(int[] nums) {

return help(nums,0,nums.length-1);


}


public TreeNode help( int[] nums,int left,int right){

if(left>right){

return null;

}

int mid = (left + right)/2;

TreeNode root = new TreeNode(nums[mid]);//ä»¥ä¸­é—´èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹

root.left= help(nums,left,mid-1);

root.right= help(nums,mid+1,right);

return root;

}
```


è¿™æ˜¯æˆ‘ä¸€å¼€å§‹çš„ä»£ç  æœ‰å‡ ä¸ªé—®é¢˜ ä¹Ÿä½“ç°å‡ºäº†æˆ‘å¯¹è¿™ç±»é¢˜æ€æƒ³ä¸Šçš„é”™è¯¯

1. **é”™è¯¯çš„æ¯”è¾ƒæ–¹å¼**

if (root.left.val > root.val && root.right.val < root.val) {
è¿™é‡Œçš„é€»è¾‘æ˜¯ **â€œå·¦å­èŠ‚ç‚¹å¿…é¡»å¤§äºæ ¹èŠ‚ç‚¹ ä¸” å³å­èŠ‚ç‚¹å¿…é¡»å°äºæ ¹èŠ‚ç‚¹â€**ï¼Œä½† BST çš„æ­£ç¡®æ¡ä»¶æ˜¯ï¼š

â€¢ **å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹**éƒ½è¦å°äºå½“å‰èŠ‚ç‚¹ã€‚

â€¢ **å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹**éƒ½è¦å¤§äºå½“å‰èŠ‚ç‚¹ã€‚

â€¢ æˆ‘çš„ä»£ç **åªæ£€æŸ¥äº†ä¸€å±‚**ï¼Œæ²¡æœ‰ä¿è¯æ•´ä¸ªå­æ ‘çš„æ­£ç¡®æ€§ã€‚
2. é€’å½’ç»“æœæ²¡æœ‰æ­£ç¡®è¿”å›

isBST(root.left);
isBST(root.right);
return true;

isBST(root.left); å’Œ isBST(root.right); åªæ˜¯é€’å½’è°ƒç”¨ï¼Œæ²¡æœ‰ç”¨ return è¯­å¥è¿”å›é€’å½’ç»“æœï¼Œæ‰€ä»¥å³ä½¿å­æ ‘ä¸æ˜¯ BSTï¼Œæœ€ç»ˆä¹Ÿ**æ€»æ˜¯è¿”å› true**ã€‚
```java
public boolean isValidBST(TreeNode root) {  
 return isBST(root);  
  
}  
  
public boolean isBST(TreeNode root) {  
    if (root == null) {  
        return true;  
    }  
    if(root.left.val>root.val&& root.right.val<root.val){  
        return false;  
    }  
    isBST(root.left);  
    isBST(root.right);  
    return true;  
}
```

**âœ… æ­£ç¡®è§£æ³•**

**æ€è·¯ï¼š**

1. **å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•°** isBST(root, min, max)ï¼š

â€¢ min ä»£è¡¨å½“å‰å­æ ‘å…è®¸çš„æœ€å°å€¼ã€‚

â€¢ max ä»£è¡¨å½“å‰å­æ ‘å…è®¸çš„æœ€å¤§å€¼ã€‚

â€¢ **è§„åˆ™ï¼š**

â€¢ å·¦å­æ ‘çš„å€¼å¿…é¡»åœ¨ (min, root.val) ä¹‹é—´ã€‚

â€¢ å³å­æ ‘çš„å€¼å¿…é¡»åœ¨ (root.val, max) ä¹‹é—´ã€‚

2. **é€’å½’æ£€æŸ¥å·¦å³å­æ ‘æ˜¯å¦ç¬¦åˆæ¡ä»¶**ã€‚

### 102.äºŒå‰æ ‘çš„å±‚åºéå†

è¿™é“é¢˜æˆ‘æ˜¯å®Œå…¨ä¸ä¼šåš æ²¡æœ‰ä¸€ç‚¹æ€è·¯

è¿™é“é¢˜çš„å…³é”®æ˜¯ä½¿ç”¨é˜Ÿåˆ—


### [105. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/)
ä¸ä¼šä¸ä¼šä¸ä¼š
æ‰‹å†™çŸ¥é“æ€ä¹ˆåŠ ä½†æ˜¯å†™ä»£ç ä¸çŸ¥é“ä½•å¤„ä¸‹æ‰‹
è¿™é“é¢˜é¦–å…ˆä½¿ç”¨HashMapå°†ä¸­åºéå†æ•°ç»„ä¸­çš„å€¼å’Œå®ƒå¯¹åº”çš„ç´¢å¼•å€¼,è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯:
åˆ©ç”¨å…ˆåºéå†ç¡®å®šæ ¹èŠ‚ç‚¹å,åœ¨ä¸­åºéå†ä¸­æ‰¾åˆ°å®ƒçš„ä½ç½®,ä»è€Œåˆ’åˆ†å“ªè¾¹æ˜¯å·¦å­æ ‘å“ªè¾¹æ˜¯å³å­æ ‘

ä¸‹é¢æ˜¯æ­£ç¡®ä»£ç :
``` Java
private Map<Integer, Integer> inorderMap; // å­˜å‚¨ inorder çš„å€¼å¯¹åº”çš„ç´¢å¼•

Â  Â  private int preorderIndex = 0; // å…ˆåºéå†æ•°ç»„çš„ç´¢å¼•
Â  Â  public TreeNode buildTree(int[] preorder, int[] inorder) {
Â  Â  Â  Â  inorderMap = new HashMap<>();
Â  Â  Â  Â  // æ„é€ å“ˆå¸Œè¡¨ï¼Œå­˜å‚¨ inorder æ•°ç»„ä¸­çš„å€¼å¯¹åº”çš„ç´¢å¼•
Â  Â  Â  Â  for (int i = 0; i < inorder.length; i++) {
Â  Â  Â  Â  Â  Â  inorderMap.put(inorder[i], i);
Â  Â  Â  Â  }
Â  Â  Â  Â  return build(preorder, 0, inorder.length - 1);
Â  Â  }
Â  Â  
Â  Â  private TreeNode build(int[] preorder, int left, int right) {
Â  Â  Â  Â  if (left > right) {
Â  Â  Â  Â  Â  Â  return null; // é€’å½’ç»ˆæ­¢æ¡ä»¶
Â  Â  Â  Â  }
Â  Â  Â  Â  // é€‰æ‹©å½“å‰ preorderIndex ä½ç½®çš„å€¼ä½œä¸ºæ ¹èŠ‚ç‚¹
Â  Â  Â  Â  int rootVal = preorder[preorderIndex++];
Â  Â  Â  Â  TreeNode root = new TreeNode(rootVal);
Â  Â  Â  Â  // è·å–æ ¹èŠ‚ç‚¹åœ¨ inorder æ•°ç»„ä¸­çš„ä½ç½®
Â  Â  Â  Â  int inorderIndex = inorderMap.get(rootVal);
Â  Â  Â  Â  // é€’å½’æ„é€ å·¦å­æ ‘
Â  Â  Â  Â  root.left = build(preorder, left, inorderIndex - 1);
Â  Â  Â  Â  // é€’å½’æ„é€ å³å­æ ‘
Â  Â  Â  Â  root.right = build(preorder, inorderIndex + 1, right);
Â  Â  Â  Â  return root;

Â  Â  }
```
ä¸€å¼€å§‹æˆ‘æ²¡å¼„æ‡‚è¿™ä¸ªé€’å½’å‡½æ•°,å› ä¸ºæˆ‘ä¸ç†è§£æ˜æ˜åˆ’åˆ†çš„æ˜¯ä¸­åºéå†æ•°ç»„,ä¸ºä»€ä¹ˆè¦ä¸€ç›´é€’å½’å…ˆåºéå†æ•°ç»„ åŸå› æ˜¯
â€¢ **preorder** æ•°ç»„é¡ºåºå›ºå®šï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å·¦å­æ ‘ï¼Œå†æ˜¯å³å­æ ‘ã€‚
â€¢ **inorder** æ•°ç»„æ˜¯å…³é”®ï¼Œå®ƒçš„ç´¢å¼•èŒƒå›´ left â†’ inorderIndex - 1 å’Œ inorderIndex + 1 â†’ right å†³å®šäº†å·¦å³å­æ ‘çš„ç•Œé™ã€‚
inorderæ•°ç»„ä¸­çš„å†…å®¹å·²ç»å­˜å‚¨åœ¨HashMapä¸­äº†,æ‰€ä»¥é€’å½’æ—¶ä¸éœ€è¦å†ä¼ é€’ä¸­åºéå†æ•°ç»„äº†
ğŸ’¡ **å¯ä»¥è¿™æ ·ç†è§£ï¼š**
â€¢ **preorder è´Ÿè´£é€‰æ ¹èŠ‚ç‚¹**
â€¢ **inorder è´Ÿè´£åˆ’åˆ†å·¦å³å­æ ‘**

### [106. ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-inorder-and-postorder-traversal/)

ä¸­åº:å·¦æ ¹å³
ååº:å·¦å³æ ¹

è¿™é“é¢˜ä¸ä¸Šä¸€é“é¢˜ ä¹Ÿå°±æ˜¯åˆ©ç”¨å…ˆåºå’Œä¸­åºæ„é€ äºŒå‰æ ‘ç±»ä¼¼
åªè¦æŠŠå¯¹å…ˆåºçš„æ€æƒ³æ”¹ä¸ºååºå³å¯
å…ˆåºçš„æ ¹èŠ‚ç‚¹åœ¨æœ€å‰é¢ ååºçš„æ ¹èŠ‚ç‚¹åœ¨æœ€åé¢
éœ€è¦æ³¨æ„çš„æ˜¯ å…ˆåºæ˜¯æ ¹å·¦å³ æ ¹åé¢è·Ÿçš„æ˜¯Â·å·¦ æ‰€ä»¥è¿­ä»£çš„æ—¶å€™å…ˆä»å·¦å­æ ‘å¼€å§‹è¿­ä»£
è€Œååºæ˜¯å·¦å³æ ¹ æ ¹å‰é¢æ˜¯å³ æ‰€ä»¥è¿­ä»£çš„æ—¶å€™è¦å…ˆä»å³å­æ ‘å¼€å§‹è¿­ä»£

ä»£ç å¸ƒå±€å’Œæ€è·¯éƒ½æ˜¯éå¸¸ç›¸ä¼¼çš„

```java
HashMap<Integer, Integer> inorderMap;  
int postIndex;  
public TreeNode buildTree(int[] postorder, int[] inorder) {  
    postIndex = postorder.length - 1; // åˆå§‹åŒ– postIndex    inorderMap = new HashMap<>();  
  
    // è®°å½• inorder æ•°ç»„ä¸­å€¼å¯¹åº”çš„ç´¢å¼•ä½ç½®  
    for (int i = 0; i < inorder.length; i++) {  
        inorderMap.put(inorder[i], i);  
    }  
  
    return built(postorder, 0, inorder.length - 1);  
}  
  
private TreeNode built(int[] postorder, int left, int right) {  
    if (left > right || postIndex<0) {  // å› ä¸ºæ˜¯å‡,è¦æ³¨æ„æœ‰å¯èƒ½è¶…å‡ºç•Œé™,æ‰€ä»¥éœ€è¦åŠ ä¸Šé™å®šæ¡ä»¶
        return null;  
    }  
  
    // å–å‡ºå½“å‰æ ¹èŠ‚ç‚¹çš„å€¼  
    int rootVal = postorder[postIndex];  
    postIndex--; // é€’å‡ postIndexï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªæ ¹èŠ‚ç‚¹  
    TreeNode root = new TreeNode(rootVal);  
  
    // è·å–å½“å‰æ ¹èŠ‚ç‚¹åœ¨ inorder æ•°ç»„ä¸­çš„ç´¢å¼•  
    int inorderIndex = inorderMap.get(rootVal);  
  
    // å…ˆæ„é€ å³å­æ ‘ï¼Œå†æ„é€ å·¦å­æ ‘ï¼ˆå› ä¸º postorder æ˜¯ååºéå†ï¼‰  
    root.right = built(postorder, inorderIndex + 1, right);  
    root.left = built(postorder, left, inorderIndex - 1);  
  
    return root;  
}

```

### [889. æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-postorder-traversal/)

å…ˆåº: æ ¹å·¦å³
ååº:å·¦å³æ ¹

ä»–ä»¬ä¸‰ä¸ªçš„æ•´ä½“æ€è·¯éƒ½æ˜¯ä¸€æ ·çš„ ä½†æ˜¯æœ‰ä¸€ç‚¹ä¸åŒçš„æ˜¯ æ— è®ºæ˜¯å…ˆåºè¿˜æ˜¯ååº åªè¦æœ‰ä¸­åº ç¡®å®šäºŒå‰æ ‘æ—¶ å°±å¯ä»¥ç¡®å®šäºŒå‰æ ‘å·¦å³å­æ ‘çš„ç•Œé™
å› ä¸ºä¸­åºæ˜¯å·¦æ ¹å³ çŸ¥é“äº†æ ¹èŠ‚ç‚¹çš„ä½ç½®å°±å¯ä»¥åˆ’åˆ†å¼€å·¦å³å­æ ‘
ä½†æ˜¯å¯¹äºå…ˆåºå’Œååº,æ˜¯æ— æ³•ç¡®å®šçš„,æ‰€ä»¥éœ€è¦ä¸€æ®µå…³é”®ä»£ç  æ¥ç¡®å®šå“ªé‡Œå¼€å§‹æ˜¯å­æ ‘
```java
if (left < right) {
Â  Â  Â  // æ‰¾åˆ°å·¦å­æ ‘æ ¹èŠ‚ç‚¹åœ¨ postorder ä¸­çš„ç´¢å¼•
Â  Â  Â  int leftRootIndex = postMap.get(preorder[preIndex]);Â 
Â  Â  Â  root.left = construct(preorder, postorder, left, leftRootIndex);
Â  Â  Â  root.right = construct(preorder, postorder, leftRootIndex + 1, right - 1);
Â  Â  Â  Â  }
```
**ä¸ºä»€ä¹ˆè¦ if (left < right)ï¼Ÿ**
â€¢ å…ˆåºéå† preorder åªå‘Šè¯‰æˆ‘ä»¬æ ¹èŠ‚ç‚¹çš„é¡ºåºï¼Œä½†å¹¶ä¸çŸ¥é“å·¦å­æ ‘å’Œå³å­æ ‘çš„ç¡®åˆ‡èŒƒå›´ã€‚
â€¢ **ååºéå† postorder ä¸èƒ½å”¯ä¸€ç¡®å®šå·¦å³å­æ ‘çš„åˆ†ç•Œç‚¹**ï¼Œä½†å®ƒçš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯å½“å‰å­æ ‘çš„æ ¹ã€‚
â€¢ **å¦‚æœ left == rightï¼Œè¯´æ˜å½“å‰å­æ ‘åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸éœ€è¦é€’å½’åˆ›å»ºå·¦å³å­æ ‘**ï¼Œå¦åˆ™ä¼šå¯¼è‡´é”™è¯¯çš„ null å¶å­èŠ‚ç‚¹ã€‚

| **éå†æ–¹å¼**    | **åˆ†ç•Œçº¿æ¥æº**          | **æ˜¯å¦éœ€è¦ if (left < right)** | **å·¦å³å­æ ‘çš„ç¡®å®šæ€§** |
| ----------- | ------------------ | -------------------------- | ------------ |
| **å…ˆåº + ä¸­åº** | inorder ç›´æ¥ç¡®å®šå·¦å³å­æ ‘   | âŒ ä¸éœ€è¦                      | âœ… å”¯ä¸€ç¡®å®š       |
| **å…ˆåº + ååº** | postorder åªèƒ½æä¾›æ•´ä½“èŒƒå›´ | âœ… éœ€è¦ if (left < right)     | âŒ ä¸èƒ½å”¯ä¸€ç¡®å®š     |
å®Œæ•´ä»£ç :
```java
HashMap<Integer, Integer> postMap;
int preIndex = 0; // ç”¨äºéå†å‰åºæ•°ç»„

public TreeNode constructFromPrePost(int[] preorder, int[] postorder) {
postMap = new HashMap<>();
// è®°å½•ååºéå†ä¸­ï¼Œæ¯ä¸ªå€¼å¯¹åº”çš„ç´¢å¼•

for (int i = 0; i < postorder.length; i++) {
postMap.put(postorder[i], i);
}

return construct(preorder, postorder, 0, postorder.length - 1);
}

private TreeNode construct(int[] preorder, int[] postorder, int left, int right) {
if (left > right || preIndex >= preorder.length) {
return null;
}

// å½“å‰æ ¹èŠ‚ç‚¹
int rootVal = preorder[preIndex];
preIndex++;
TreeNode root = new TreeNode(rootVal);
// é€’å½’æ„é€ å·¦å³å­æ ‘
if (left < right) {
// æ‰¾åˆ°å·¦å­æ ‘æ ¹èŠ‚ç‚¹åœ¨ postorder ä¸­çš„ç´¢å¼•
int leftRootIndex = postMap.get(preorder[preIndex]);
root.left = construct(preorder, postorder, left, leftRootIndex);
root.right = construct(preorder, postorder, leftRootIndex + 1, right - 1);

}


return root;

}
```

### [236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/)
**ç¤ºä¾‹ 1ï¼š**
![](https://assets.leetcode.com/uploads/2018/12/14/binarytree.png)
**è¾“å…¥ï¼š **root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 1
**è¾“å‡ºï¼š**3
**è§£é‡Šï¼š**èŠ‚ç‚¹ `5` å’ŒèŠ‚ç‚¹ `1` çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ `3 ã€‚`
**ç¤ºä¾‹ 2ï¼š**
![](https://assets.leetcode.com/uploads/2018/12/14/binarytree.png)
**è¾“å…¥ï¼š**root = [3,5,1,6,2,0,8,null,null,7,4], p = 5, q = 4
**è¾“å‡ºï¼š**5
**è§£é‡Šï¼š**èŠ‚ç‚¹ `5` å’ŒèŠ‚ç‚¹ `4` çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ `5 ã€‚`å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚
**ç¤ºä¾‹ 3ï¼š**
**è¾“å…¥ï¼š**root = [1,2], p = 1, q = 2
**è¾“å‡ºï¼š**1

---

è¿™é“é¢˜ä¾æ—§æ˜¯ç»å…¸çš„äºŒå‰æ ‘é€’å½’è§£å†³æ–¹æ³•
éœ€è¦åˆ†ä¸‰ç§æƒ…å†µè®¨è®º

1. pä¸q éƒ½ä¸åœ¨è¿™ä¸ªrootä¸‹ é‚£ä¹ˆè¿”å›null
2. pä¸q éƒ½åœ¨è¿™ä¸ªrootä¸‹ é‚£ä¹ˆè¿”å›è¿™ä¸ªroot
3. pæˆ–qæœ‰ä¸€ä¸ªåœ¨ rootä¸‹ é‚£ä¹ˆå°±è¿”å›è¿™ä¸ªåœ¨çš„èŠ‚ç‚¹

ä»£ç å®ç°:
```java
public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {  
   if(root== null){  
       return null;  
   }  
    if(root==p||root==q){  
        return root;  
    }  
    TreeNode left = lowestCommonAncestor(root.left, p, q);  
    TreeNode right = lowestCommonAncestor(root.right, p, q);  
    //æƒ…å†µ 1ï¼šp å’Œ q åˆ†åˆ«åœ¨ root çš„å·¦å³å­æ ‘
    if(left==null&&right==null){  
        return null;  
    }  
    //æƒ…å†µ 2ï¼šp å’Œ q éƒ½ä¸åœ¨ root çš„å·¦å³å­æ ‘
    if(left!=null&&right!=null){  
        return root;  
    }  
    //æƒ…å†µ 3ï¼šp å’Œ q åªåœ¨ root çš„æŸä¸€ä¾§
    return left==null?right:left;  
}

```
äºŒå‰æ ‘è¿™å—å¾ˆé‡è¦çš„ä¸€ä¸ªè§£å†³æ–¹æ³•å°±æ˜¯è¿­ä»£
å°±æˆ‘è€Œè¨€,æˆ‘è®¤ä¸ºè¿­ä»£æ—¶ä¸èƒ½å¤ªç»†æŠ ç»†èŠ‚,å› ä¸ºè¿­ä»£æœ‰å¾ˆå¤šæ­¥éª¤,ä¸€æ—¦ç»†æŠ å®¹æ˜“æŠŠè‡ªå·±ç»•è¿›å»,è¿˜ä¸åˆ©äºç†è§£,åº”è¯¥ä»¥ä¸€ç§å®è§‚çš„è§†è§’è¿›è¡Œæ€è€ƒå’Œç†è§£


### [114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode.cn/problems/flatten-binary-tree-to-linked-list/)

ç»™ä½ äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹Â `root`Â ï¼Œè¯·ä½ å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ï¼š

- å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥åŒæ ·ä½¿ç”¨Â `TreeNode`Â ï¼Œå…¶ä¸­Â `right`Â å­æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œè€Œå·¦å­æŒ‡é’ˆå§‹ç»ˆä¸ºÂ `null`Â ã€‚
- å±•å¼€åçš„å•é“¾è¡¨åº”è¯¥ä¸äºŒå‰æ ‘Â [**å…ˆåºéå†**](https://baike.baidu.com/item/%E5%85%88%E5%BA%8F%E9%81%8D%E5%8E%86/6442839?fr=aladdin)Â é¡ºåºç›¸åŒã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/01/14/flaten.jpg)

**è¾“å…¥ï¼š**root = [1,2,5,3,4,null,6]
**è¾“å‡ºï¼š**[1,null,2,null,3,null,4,null,5,null,6]

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**root = []
**è¾“å‡ºï¼š**[]

**ç¤ºä¾‹ 3ï¼š**

**è¾“å…¥ï¼š**root = [0]
**è¾“å‡ºï¼š**[0]

----
è¿™é“é¢˜çš„å®è§‚æ€æƒ³æ˜¯å…ˆè¿›è¡Œååºéå†ï¼Œå…ˆå°†å·¦å­æ ‘å˜ä¸ºé“¾è¡¨ï¼Œå†å°†å³å­æ ‘å˜ä¸ºé“¾è¡¨ï¼Œæœ€åç»“åˆæ ¹æŠŠä»–ä»¬è¿åœ¨ä¸€èµ·ã€‚
```java
public void flatten(TreeNode root) {  
   if(root==null){  
       return;  
   }  
   flatten(root.left);  
   flatten(root.right);  

//å·¦å³â¼¦æ ‘å·²ç»è¢«æ‹‰å¹³æˆâ¼€æ¡é“¾è¡¨
   TreeNode left=root.left;  
   TreeNode right=root.right; 
  //å°†å·¦â¼¦æ ‘ä½œä¸ºå³â¼¦æ ‘  
   root.left=null;  
   root.right=left;  
   //å°†åŸå…ˆçš„å³â¼¦æ ‘æ¥åˆ°å½“å‰å³â¼¦æ ‘çš„æœ«ç«¯
   TreeNode r=root;  
   while (r.right!=null) {  
       r=r.right;  
   }  
   r.right=right;  
}
```


### [654. æœ€å¤§äºŒå‰æ ‘](https://leetcode.cn/problems/maximum-binary-tree/)

ç»™å®šä¸€ä¸ªä¸é‡å¤çš„æ•´æ•°æ•°ç»„Â `nums`Â ã€‚Â **æœ€å¤§äºŒå‰æ ‘**Â å¯ä»¥ç”¨ä¸‹é¢çš„ç®—æ³•ä»Â `nums`Â é€’å½’åœ°æ„å»º:

1. åˆ›å»ºä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œå…¶å€¼ä¸ºÂ `nums`Â ä¸­çš„æœ€å¤§å€¼ã€‚
2. é€’å½’åœ°åœ¨æœ€å¤§å€¼Â **å·¦è¾¹**Â çš„Â **å­æ•°ç»„å‰ç¼€ä¸Š**Â æ„å»ºå·¦å­æ ‘ã€‚
3. é€’å½’åœ°åœ¨æœ€å¤§å€¼Â **å³è¾¹**Â çš„Â **å­æ•°ç»„åç¼€ä¸Š**Â æ„å»ºå³å­æ ‘ã€‚

è¿”å›Â _`nums`Â æ„å»ºçš„_Â **_æœ€å¤§äºŒå‰æ ‘_**Â ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/12/24/tree1.jpg)

**è¾“å…¥ï¼š**nums = [3,2,1,6,0,5]
**è¾“å‡ºï¼š**[6,3,5,null,2,0,null,null,1]
**è§£é‡Šï¼š**é€’å½’è°ƒç”¨å¦‚ä¸‹æ‰€ç¤ºï¼š
- [3,2,1,6,0,5] ä¸­çš„æœ€å¤§å€¼æ˜¯ 6 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [3,2,1] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ [0,5] ã€‚
    - [3,2,1] ä¸­çš„æœ€å¤§å€¼æ˜¯ 3 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ [2,1] ã€‚
        - ç©ºæ•°ç»„ï¼Œæ— å­èŠ‚ç‚¹ã€‚
        - [2,1] ä¸­çš„æœ€å¤§å€¼æ˜¯ 2 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ [1] ã€‚
            - ç©ºæ•°ç»„ï¼Œæ— å­èŠ‚ç‚¹ã€‚
            - åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå€¼ä¸º 1 çš„èŠ‚ç‚¹ã€‚
    - [0,5] ä¸­çš„æœ€å¤§å€¼æ˜¯ 5 ï¼Œå·¦è¾¹éƒ¨åˆ†æ˜¯ [0] ï¼Œå³è¾¹éƒ¨åˆ†æ˜¯ [] ã€‚
        - åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥å­èŠ‚ç‚¹æ˜¯ä¸€ä¸ªå€¼ä¸º 0 çš„èŠ‚ç‚¹ã€‚
        - ç©ºæ•°ç»„ï¼Œæ— å­èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/12/24/tree2.jpg)

**è¾“å…¥ï¼š**nums = [3,2,1]
**è¾“å‡ºï¼š**[3,null,2,null,1]

-----

```java
public TreeNode constructMaximumBinaryTree(int[] nums) {  
  
  
    return constructMaximumBinaryTree2(nums, 0, nums.length - 1);  
}  
  
public TreeNode constructMaximumBinaryTree2(int[] nums, int start, int end) {  
    if (start > end) {  
        return null;  
    }  
  
    int maxIndex = start;  
    for (int i = start + 1; i <= end; i++) {  
        if (nums[i] > nums[maxIndex]) {  
            maxIndex = i;  
        }  
    }  
    TreeNode root = new TreeNode(nums[maxIndex]);  
    root.left = constructMaximumBinaryTree2(nums, start, maxIndex);  
    root.right = constructMaximumBinaryTree2(nums, maxIndex, end);  
    return root;  
  
}
```

### [104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode.cn/problems/maximum-depth-of-binary-tree/)

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘Â `root`Â ï¼Œè¿”å›å…¶æœ€å¤§æ·±åº¦ã€‚

äºŒå‰æ ‘çš„Â **æœ€å¤§æ·±åº¦**Â æ˜¯æŒ‡ä»æ ¹èŠ‚ç‚¹åˆ°æœ€è¿œå¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„ä¸Šçš„èŠ‚ç‚¹æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/11/26/tmp-tree.jpg)

**è¾“å…¥ï¼š**root = [3,9,20,null,null,15,7]
**è¾“å‡ºï¼š**3

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**root = [1,null,2]
**è¾“å‡ºï¼š**2

----
ä»£ç éå¸¸ç®€å•çš„ä¸€é“é¢˜ï¼Œå°±æ˜¯å·¦å­æ ‘æˆ–è€…æ˜¯å³å­æ ‘çš„æœ€å¤§æ·±åº¦åŠ ä¸Šæ ¹èŠ‚ç‚¹æœ¬æ¥çš„ä¸€ä¸ª1å°±æ˜¯è¯¥æ ‘çš„æœ€å¤§æ·±åº¦ã€‚
```java
public int maxDepth(TreeNode root) {

if (root == null) {

return 0;

}

return Math.max(maxDepth(root.left), maxDepth(root.right)) + 1;

}
```




### [117. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ II](https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/)

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼š

struct Node {
  int val;
  Node *left;
  Node *right;
  Node *next;
}

å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œè®©è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ã€‚å¦‚æœæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œåˆ™å°† next æŒ‡é’ˆè®¾ç½®ä¸ºÂ `NULL`Â ã€‚

åˆå§‹çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰Â next æŒ‡é’ˆéƒ½è¢«è®¾ç½®ä¸ºÂ `NULL`Â ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2019/02/15/117_sample.png)

**è¾“å…¥**ï¼šroot = [1,2,3,4,5,null,7]
**è¾“å‡ºï¼š**[1,#,2,3,#,4,5,7,#]
**è§£é‡Šï¼š**ç»™å®šäºŒå‰æ ‘å¦‚å›¾ A æ‰€ç¤ºï¼Œä½ çš„å‡½æ•°åº”è¯¥å¡«å……å®ƒçš„æ¯ä¸ª next æŒ‡é’ˆï¼Œä»¥æŒ‡å‘å…¶ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹ï¼Œå¦‚å›¾ B æ‰€ç¤ºã€‚åºåˆ—åŒ–è¾“å‡ºæŒ‰å±‚åºéå†é¡ºåºï¼ˆç”± next æŒ‡é’ˆè¿æ¥ï¼‰ï¼Œ'#' è¡¨ç¤ºæ¯å±‚çš„æœ«å°¾ã€‚

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼š**root = []
**è¾“å‡ºï¼š**[]

---

è¿™é“é¢˜é‡‡ç”¨**BFSï¼ˆå±‚åºéå†ï¼‰**ï¼Œç”¨ **é˜Ÿåˆ—** é€å±‚éå†æ ‘ï¼Œå¹¶è¿æ¥ç›¸é‚»çš„èŠ‚ç‚¹ã€‚
```java
public Node connect(Node root) {

if (root == null) return null;

Queue<Node> queue = new LinkedList<>();

queue.offer(root);

while (!queue.isEmpty()) {

int size = queue.size();

Node prev = null;

for (int i = 0; i < size; i++) {

Node curr = queue.poll();

if (prev != null) {

prev.next = curr;

}

prev = curr;

  

if (curr.left != null) queue.offer(curr.left);

if (curr.right != null) queue.offer(curr.right);

}

}

return root;

}
```

### [129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ](https://leetcode.cn/problems/sum-root-to-leaf-numbers/)

ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹Â `root`Â ï¼Œæ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜æ”¾æœ‰ä¸€ä¸ªÂ `0`Â åˆ°Â `9`Â ä¹‹é—´çš„æ•°å­—ã€‚

æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„éƒ½ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼š

- ä¾‹å¦‚ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„Â `1 -> 2 -> 3`Â è¡¨ç¤ºæ•°å­—Â `123`Â ã€‚

è®¡ç®—ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ç”Ÿæˆçš„Â **æ‰€æœ‰æ•°å­—ä¹‹å’Œ**Â ã€‚

**å¶èŠ‚ç‚¹**Â æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/02/19/num1tree.jpg)

**è¾“å…¥ï¼š**root = [1,2,3]
**è¾“å‡ºï¼š**25
**è§£é‡Šï¼š**
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ `1->2` ä»£è¡¨æ•°å­— `12`
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ `1->3` ä»£è¡¨æ•°å­— `13`
å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 12 + 13 = `25`

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/02/19/num2tree.jpg)

**è¾“å…¥ï¼š**root = [4,9,0,5,1]
**è¾“å‡ºï¼š**1026
**è§£é‡Šï¼š**
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ `4->9->5` ä»£è¡¨æ•°å­— 495
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ `4->9->1` ä»£è¡¨æ•°å­— 491
ä»æ ¹åˆ°å¶å­èŠ‚ç‚¹è·¯å¾„ `4->0` ä»£è¡¨æ•°å­— 40
å› æ­¤ï¼Œæ•°å­—æ€»å’Œ = 495 + 491 + 40 = `1026`

----
æˆ‘ä¸€å¼€å§‹è‹¦æ¼äºæ€ä¹ˆèƒ½å°† 1 ã€2ã€ 3å˜æˆ123ï¼Œå°†å·²æœ‰çš„å’Œä¹˜10å†åŠ ä¸Šç°åœ¨è¿™ä¸ªèŠ‚ç‚¹çš„æ•°å°±å¯ä»¥äº†ã€‚

```java
public int sumNumbers(TreeNode root) {  
 if(root==null){  
     return 0;  
 }  
 return sumNumbersDFS(root,0);  
}  
public int sumNumbersDFS(TreeNode root,int sum){  
   if(root==null){  
       return 0;  
   }  
    sum=sum+root.val*10;  
    //å·²ç»åˆ°è¾¾å¶å­ç»“ç‚¹
   if(root.left==null&&root.right==null){  
       return sum;  
   }  
   return sumNumbersDFS(root.left,sum)+sumNumbersDFS(root.right,sum);  
}
```

### [530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®](https://leetcode.cn/problems/minimum-absolute-difference-in-bst/)

ç»™ä½ ä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹Â `root`Â ï¼Œè¿”å›Â **æ ‘ä¸­ä»»æ„ä¸¤ä¸åŒèŠ‚ç‚¹å€¼ä¹‹é—´çš„æœ€å°å·®å€¼**Â ã€‚

å·®å€¼æ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œå…¶æ•°å€¼ç­‰äºä¸¤å€¼ä¹‹å·®çš„ç»å¯¹å€¼ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2021/02/05/bst1.jpg)

**è¾“å…¥ï¼š**root = [4,2,6,1,3]
**è¾“å‡ºï¼š**1

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2021/02/05/bst2.jpg)

**è¾“å…¥ï¼š**root = [1,0,48,null,null,12,49]
**è¾“å‡ºï¼š**1

----
äºŒå‰æœç´¢æ ‘çš„ä¸€ä¸ªæ€§è´¨å°±æ˜¯ä¸­åºéå†æ—¶æ˜¯é€’å¢æ•°åˆ—
```java
TreeNode prev=null;  
int mini=Integer.MAX_VALUE;  
public int getMinimumDifference(TreeNode root) {  
      inOrder(root);  
       return mini;  
}  
void inOrder(TreeNode root) {  
    if(root==null){  
        return;  
    }  
    inOrder(root.left);  
    mini=Math.min(mini,root.val-prev.val);  
    prev=root;  
    inOrder(root.right);  
}
```


### [98. éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/validate-binary-search-tree/)

ç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹Â `root`Â ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚

**æœ‰æ•ˆ**Â äºŒå‰æœç´¢æ ‘å®šä¹‰å¦‚ä¸‹ï¼š

- èŠ‚ç‚¹çš„å·¦å­æ ‘åªåŒ…å«Â **å°äº**Â å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚
- èŠ‚ç‚¹çš„å³å­æ ‘åªåŒ…å«Â **å¤§äº**Â å½“å‰èŠ‚ç‚¹çš„æ•°ã€‚
- æ‰€æœ‰å·¦å­æ ‘å’Œå³å­æ ‘è‡ªèº«å¿…é¡»ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/12/01/tree1.jpg)

**è¾“å…¥ï¼š**root = [2,1,3]
**è¾“å‡ºï¼š**true

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode.com/uploads/2020/12/01/tree2.jpg)

**è¾“å…¥ï¼š**root = [5,1,4,null,null,3,6]
**è¾“å‡ºï¼š**false
**è§£é‡Šï¼š**æ ¹èŠ‚ç‚¹çš„å€¼æ˜¯ 5 ï¼Œä½†æ˜¯å³å­èŠ‚ç‚¹çš„å€¼æ˜¯ 4 ã€‚

----
æˆ‘ä¸€å¼€å§‹ä½ åªæ£€æŸ¥äº†å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦å°äºå½“å‰èŠ‚ç‚¹ã€å³å­èŠ‚ç‚¹æ˜¯å¦å¤§äºå½“å‰èŠ‚ç‚¹ï¼Œä½†è¿™å¹¶ä¸èƒ½ä¿è¯æ•´ä¸ªå­æ ‘éƒ½æ»¡è¶³ BST æ¡ä»¶ã€‚
æ­£ç¡®åšæ³•æ˜¯ï¼šä½¿ç”¨ **é€’å½’ + é™å®šä¸Šä¸‹ç•Œ** æ¥åˆ¤æ–­ BSTã€‚
â€¢ **å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å¿…é¡»å°äºæ ¹èŠ‚ç‚¹**
â€¢ **å³å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å¿…é¡»å¤§äºæ ¹èŠ‚ç‚¹**
â€¢ é€’å½’è¿‡ç¨‹ä¸­ä¼ é€’ **æœ€å¤§å€¼ï¼ˆå¯¹å·¦å­æ ‘ï¼‰å’Œæœ€å°å€¼ï¼ˆå¯¹å³å­æ ‘ï¼‰**ï¼Œä¿è¯å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ç¬¦åˆ BST è§„åˆ™ã€‚

```java
public boolean isValidBST(TreeNode root) {

if(root==null){

return true;

}

return isValidBST(root,Long.MIN_VALUE,Long.MAX_VALUE);

}

public boolean isValidBST(TreeNode root,long min, long max) {

if(root==null){

return true;

}

if(root.val<=min||root.val>=max){

return false;

}

return isValidBST(root.left,min,root.val)&&isValidBST(root.right,root.val,max);

}
```